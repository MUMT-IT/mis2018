{% extends "continueing_edu/base_frontend.html" %}

{% block title %}{{ texts.university_name }} - {{ texts.login_page_title }}{% endblock %}

{% block extra_css %}
{{ super() }}
<style>
          body {
                    font-family: 'Inter', sans-serif;
                    background-color: #f8fafc;
                    /* Light Slate 50 */
          }

          /* Custom styles for rounded corners and shadows */
          .rounded-md {
                    border-radius: 0.375rem;
          }

          .rounded-lg {
                    border-radius: 0.5rem;
          }

          .rounded-full {
                    border-radius: 9999px;
          }

          .shadow-sm {
                    box-shadow: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
          }

          .shadow-lg {
                    box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
          }

          .mb-4 {
                    margin-bottom: 1rem;
          }

          .mb-6 {
                    margin-bottom: 1.5rem;
          }

          .mt-4 {
                    margin-top: 1rem;
          }

          .py-4 {
                    padding-top: 1rem;
                    padding-bottom: 1rem;
          }

          .px-4 {
                    padding-left: 1rem;
                    padding-right: 1rem;
          }

          .p-8 {
                    padding: 2rem;
          }

          /* Colors */
          .has-text-gray-800 {
                    color: #1f2937;
          }

          .has-text-gray-700 {
                    color: #374151;
          }

          .has-text-indigo-700 {
                    color: #4338ca;
          }

          .has-text-indigo-600 {
                    color: #4f46e5;
          }

          .has-text-white {
                    color: #ffffff;
          }

          .has-background-white {
                    background-color: #ffffff;
          }

          .has-background-indigo-600 {
                    background-color: #4f46e5;
          }

          .hover\:has-background-indigo-700:hover {
                    background-color: #4338ca;
          }

          .border {
                    border-width: 1px;
                    border-style: solid;
          }

          .border-gray-200 {
                    border-color: #e5e7eb;
          }

          .is-flex {
                    display: flex;
          }

          .is-flex-direction-column {
                    flex-direction: column;
          }

          .is-justify-content-space-between {
                    justify-content: space-between;
          }

          .is-align-items-center {
                    align-items: center;
          }

          .is-centered {
                    justify-content: center;
          }

          .is-fullwidth {
                    width: 100%;
          }

          /* Custom styles for language buttons */
          .language-button {
                    margin-left: 0.5rem;
                    min-width: 40px;
                    text-align: center;
          }

          .language-button.is-active {
                    background-color: #4338ca;
                    color: white;
                    border-color: #4338ca;
          }

          .language-button:not(.is-active) {
                    background-color: #e0e7ff;
                    color: #4338ca;
                    border-color: #e0e7ff;
          }

          .language-button:not(.is-active):hover {
                    background-color: #c7d2fe;
                    border-color: #c7d2fe;
          }

          /* Style for the university logo */
          .university-logo {
                    max-height: 2.5rem;
                    margin-right: 0.5rem;
                    width: auto;
          }
</style>
{% endblock %}

{% block content %}
<section class="section py-16">
          <div class="container is-max-desktop">
                    <h1 class="title is-3 has-text-centered">{{ texts.register_page_title }}</h1>

                    <div class=" mt-6 mb-6">
                              <h1 class="title is-3 mb-4">Manage Events</h1>
                              <a href="{{ url_for('continuing_edu.admin_add_event') }}"
                                        class="button is-primary mb-4">Add Event</a>
                              <table class="table is-fullwidth is-striped">
                                        <thead>
                                                  <tr>
                                                            <th>ID</th>
                                                            <th>Type</th>
                                                            <th>Title (EN)</th>
                                                            <th>Created</th>
                                                            <th>Actions</th>
                                                  </tr>
                                        </thead>
                                        <tbody>
                                                  {% for event in events %}
                                                  <tr>
                                                            <td>{{ event.id }}</td>
                                                            <td>{{ event.event_type }}</td>
                                                            <td>{{ event.title_en }}</td>
                                                            <td>{{ event.created_at }}</td>
                                                            <td>
                                                                      <a href="{{ url_for('continuing_edu.admin_edit_event', event_id=event.id) }}"
                                                                                class="button is-small is-info">Edit</a>
                                                                      <form method="post"
                                                                                action="{{ url_for('continuing_edu.admin_delete_event', event_id=event.id) }}"
                                                                                style="display:inline;">
                                                                                <button type="submit"
                                                                                          class="button is-small is-danger"
                                                                                          onclick="return confirm('Delete this event?');">Delete</button>
                                                                      </form>
                                                            </td>
                                                  </tr>
                                                  {% endfor %}
                                        </tbody>
                              </table>
                    </div>
          </div>
</section>
{% endblock %}

{% block extra_js %}
<script>
          document.addEventListener('DOMContentLoaded', () => {
                    const $navbarBurgers = Array.prototype.slice.call(document.querySelectorAll('.navbar-burger'), 0);
                    if ($navbarBurgers.length > 0) {
                              $navbarBurgers.forEach(el => {
                                        el.addEventListener('click', () => {
                                                  const target = el.dataset.target;
                                                  const $target = document.getElementById(target);
                                                  el.classList.toggle('is-active');
                                                  $target.classList.toggle('is-active');
                                        });
                              });
                    }
                    // Close flash messages
                    (document.querySelectorAll('.notification .delete') || []).forEach(($delete) => {
                              const $notification = $delete.parentNode;
                              $delete.addEventListener('click', () => {
                                        $notification.parentNode.removeChild($notification);
                              });
                    });
          });
</script>
{% endblock %}