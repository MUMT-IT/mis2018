{% extends "base.html" %}

{% include "data_blueprint/nav.html" %}

{% block head %}
    {{ super() }}
    <style>
    .no-underline {
      text-decoration: none !important;
    }
    </style>
{% endblock %}
{% block page_content %}
<section class="section">
    {% include "messages.html" %}
    <div>
        <h1 class="title has-text-centered has-text-info">Organizational Data Blueprint</h1>
        <div class="buttons is-centered">
            <a class="button is-light" href={{ url_for('data_bp.process_form') }}>
                <span class="icon">
                    <i class="fas fa-plus"></i>
                </span>
                <span>เพิ่มกระบวนการ</span>
            </a>
        </div>
        <div class="tile is-ancestor">
            <div class="tile is-parent">
                <article class="tile is-child notification is-success">
                    <h1 class="title is-size-4 has-text-centered">Performance Management</h1>
                    <div class="tags">
                        {% for p in performance_processes %}
                        <a class="tag is-rounded is-light has-text-black no-underline" href="{{url_for('data_bp.process_detail', process_id=p.id)}}">
                            {{ p.name }}
                        </a>
                        {% endfor %}
                        <a class="tag is-rounded is-light has-text-black no-underline" hx-get="{{ url_for('data_bp.index', process_category='performance') }}"
                           hx-swap="innerHTML" hx-target="#processes-modal-placeholder">
                            more...
                        </a>
                    </div>
                </article>
            </div>
            <div id="processes-modal-placeholder"></div>
            <div class="tile is-parent">
                <article class="tile is-child notification is-success">
                    <h1 class="title is-size-4 has-text-centered">Experience Management</h1>
                    <div class="tags">
                        {% for p in crm_processes %}
                        <a class="no-underline tag has-text-black is-light is-rounded"
                           href="{{url_for('data_bp.process_detail', process_id=p.id)}}">
                            {{ p.name }}
                        </a>
                        {% endfor %}
                        <a class="no-underline tag has-text-black is-light is-rounded"
                           hx-get="{{ url_for('data_bp.index', process_category='crm') }}"
                           hx-swap="innerHTML" hx-target="#processes-modal-placeholder">
                            more...
                        </a>
                    </div>
                </article>
            </div>
            <div class="tile is-parent is-4">
                <article class="tile is-child notification is-info">
                    <h1 class="title is-size-4 has-text-centered">Core Services
                        <a href={{ url_for('data_bp.core_service_form') }}>
                            <span class="tag is-small">
                                <i class="fas fa-plus"></i>
                            </span>
                        </a>
                    </h1>
                    <div class="tags">
                        {% for sv in core_services %}
                            <a class="tag has-text-black no-underline is-light is-rounded" href="{{url_for('data_bp.core_service_detail', service_id=sv.id)}}">
                                {{ sv.service }}
                            </a>
                        {% endfor %}
                        <a class="tag has-text-black no-underline is-light is-rounded"
                           hx-get="{{ url_for('data_bp.index', process_category='core_services') }}"
                           hx-swap="innerHTML" hx-target="#processes-modal-placeholder">
                            more...
                        </a>
                    </div>
                </article>
            </div>
            <div class="tile is-parent">
                <article class="tile is-child notification is-warning">
                    <h1 class="title is-size-4 has-text-centered">Back Office</h1>
                    <div class="tags">
                        {% for p in back_office_processes %}
                        <a class="tag has-text-black no-underline is-light is-rounded"
                           href="{{url_for('data_bp.process_detail', process_id=p.id)}}">
                            {{ p.name }}
                        </a>
                        {% endfor %}
                        <a class="tag has-text-black no-underline is-light is-rounded"
                           hx-get="{{ url_for('data_bp.index', process_category='back_office') }}"
                           hx-swap="innerHTML" hx-target="#processes-modal-placeholder">
                            more...
                        </a>
                    </div>
                </article>
            </div>
            <div class="tile is-parent">
                <article class="tile is-child notification is-warning">
                    <h1 class="title is-size-4 has-text-centered">Law, Compliance
                    </h1>
                    <div class="tags">
                        {% for p in regulation_processes %}
                        <a class="tag has-text-black is-light is-rounded no-underline"
                           href="{{url_for('data_bp.process_detail', process_id=p.id)}}">
                            {{ p.name }}
                            </span>
                        </a>
                        {% endfor %}
                        <a class="tag has-text-black no-underline is-light is-rounded"
                           hx-get="{{ url_for('data_bp.index', process_category='regulation') }}"
                           hx-swap="innerHTML" hx-target="#processes-modal-placeholder">
                            more...
                        </a>
                    </div>
                </article>
            </div>
        </div>
        <div class="tile is-ancestor">
            <div class="tile is-parent">
                <article class="tile is-child notification is-danger">
                    <h1 class="title is-size-4 has-text-centered">Data
                        <a href={{ url_for('data_bp.data_form') }}>
                            <span class="tag is-small">
                                <i class="fas fa-plus"></i>
                            </span>
                        </a>
                    </h1>
                    <div class="tags">
                        {% for dt in data %}
                            <a class="tag has-text-black no-underline is-rounded is-light"
                               href="{{ url_for('data_bp.data_detail', data_id=dt.id) }}">
                                {{ dt.name }}
                            </a>
                        {% endfor %}
                    </div>
                </article>
            </div>
        </div>
        <div class="tile is-ancestor">
            <div class="tile is-parent">
                <article class="tile is-child notification is-light">
                    <h1 class="title is-size-4 has-text-centered">Monitoring Technology Management</h1>
                </article>
            </div>
            <div class="tile is-parent">
                <article class="tile is-child notification is-light">
                    <h1 class="title is-size-4 has-text-centered">Technology Infrastructure</h1>
                </article>
            </div>
            <div class="tile is-parent">
                <article class="tile is-child notification is-light">
                    <h1 class="title is-size-4 has-text-centered">Security Technology Management</h1>
                </article>
            </div>
        </div>
    </div>
</section>
{% endblock %}
