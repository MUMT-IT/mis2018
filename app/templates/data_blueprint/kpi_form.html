{% extends "base.html" %}
{% block title %}Add/Edit KPI{% endblock %}
{% block head %}
    {{ super() }}
    <link href="https://fastly.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/css/select2.min.css" rel="stylesheet" />
{% endblock %}
{% include "data_blueprint/nav.html" %}
{% block page_content %}
<section class="section">
    <div class="container">
        {% include "messages.html" %}
        <h1 class="title">ข้อมูลตัวชี้วัด</h1>
        <form method="post">
            {{ form.hidden_tag() }}
            <div class="tabs is-centered is-boxed">
              <ul>
                <li class="is-active"><a href="#">ข้อมูลทั่วไป</a></li>
                <li><a href="{{ url_for('data_bp.kpi_form', process_id=process_id, section='target', kpi_id=kpi_id) }}">เป้าหมาย</a></li>
                <li><a href="{{ url_for('data_bp.kpi_form', process_id=process_id, section='report', kpi_id=kpi_id) }}">รายงาน</a></li>
              </ul>
            </div>
            <div class="columns">
                <div class="column">
                    <div class="field">
                        <label class="label">{{form.name.label}}</label>
                        <div class="control">
                            {{ form.name(class="input is-danger") }}
                        </div>
                        <p class="help">ตัวอย่าง จำนวนบัณฑิตที่สอบผ่านใบประกอบวิชาชีพ</p>
                    </div>
                    <div class="field">
                        <label class="label">{{ form.type_.label }}</label>
                        <div class="select">
                            {{ form.type_() }}
                        </div>
                        <p class="help"><strong>ตัวชี้วัดนำ</strong> หมายถึงตัวชี้วัดที่สะท้อนผลการดำเนินการประจำวัน</p>
                        <p class="help"><strong>ตัวชี้วัดตาม</strong> หมายถึงตัวชี้วัดที่สะท้อนการบรรลุเป้าหมาย</p>
                    </div>
                    <div class="field">
                        <label class="label">{{form.refno.label}}</label>
                        <div class="control">
                            {{form.refno(class="input")}}
                        </div>
                        <p class="help">ตัวอย่าง 1.2</p>
                    </div>
                    <div class="field">
                        <label class="label">{{form.intent.label}}</label>
                        <div class="control">
                            {{form.intent(class="input")}}
                        </div>
                        <p class="help">ตัวอย่าง 1.2</p>
                    </div>
                    <div class="field">
                        <label class="label">{{form.frequency.label}}</label>
                        <div class="control">
                            {{form.frequency(class="input")}}
                        </div>
                        <p class="help">ความถี่นับเป็นจำนวนวัน</p>
                    </div>
                    <div class="field">
                        <label class="label">{{form.unit.label}}</label>
                        <div class="control">
                            {{form.unit(class="input")}}
                        </div>
                        <p class="help">ร้อยละ ชั่วโมง จำนวนนับเป็นต้น</p>
                    </div>
                    <div class="field">
                        <label class="label">{{form.formula.label}}</label>
                        <div class="control">
                            {{form.formula(class="input")}}
                        </div>
                    </div>
                    <div class="field">
                        <label class="label">{{form.keeper.label}}</label>
                        <div>
                            {{form.keeper(class="js-example-basic-single", style="width: 100%")}}
                        </div>
                    </div>
                </div>
                <div class="column">
                    <div class="field">
                        <label class="label">{{form.source.label}}</label>
                        <div class="control">
                            {{form.source(class="input")}}
                        </div>
                        <p class="help">ที่มาของข้อมูล</p>
                    </div>
                    <div class="field">
                        <label class="label">{{form.available.label}}</label>
                        <div class="control">
                            {{form.available()}}
                        </div>
                    </div>
                    <div class="field">
                        <label class="label">{{form.availability.label}}</label>
                        <div class="select">
                            {{form.availability()}}
                        </div>
                        <p class="help">เช่น เก็บโดยอัตโนมัติ หรือ ต้องใช้กระบวนการที่ซับซ้อน เป็นตัน</p>
                    </div>
                    <div class="field">
                        <label class="label">{{form.note.label}}</label>
                        <div class="control">
                            {{form.note(class="textarea")}}
                        </div>
                    </div>
                    <div class="field is-grouped is-grouped-centered">
                        <div class="control">
                            <a href="{{url_for('data_bp.process_detail', process_id=process_id)}}" class="button is-light">ยกเลิก</a>
                        </div>
                        <div class="control">
                            <input class="button is-success" type="submit" value="บันทึก"/>
                        </div>
                    </div>
                </div>
            </div>
        </form>
    </div>
</section>
{% endblock %}
{% block scripts %}
{{super()}}
<script src="https://fastly.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/select2.min.js"></script>
<script type="text/javascript">
    $(document).ready(function() {
        $('.js-example-basic-single').select2();
    });
</script>
</section>
{% endblock %}

