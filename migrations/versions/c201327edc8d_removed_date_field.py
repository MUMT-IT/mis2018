"""removed date field

Revision ID: c201327edc8d
Revises: a41b8a7cd46c
Create Date: 2023-09-15 12:17:11.699205

"""
import sqlalchemy_utils
from alembic import op
import sqlalchemy as sa


# revision identifiers, used by Alembic.
revision = 'c201327edc8d'
down_revision = 'a41b8a7cd46c'
branch_labels = None
depends_on = None


def upgrade():
    # ### commands auto generated by Alembic - please adjust! ###
    op.drop_table('ot_record_time_slot_assoc')
    with op.batch_alter_table('ot_record', schema=None) as batch_op:
        batch_op.add_column(sa.Column('shift_datetime', sqlalchemy_utils.types.range.DateTimeRangeType(), nullable=True))
        batch_op.drop_column('date')

    # ### end Alembic commands ###


def downgrade():
    # ### commands auto generated by Alembic - please adjust! ###
    with op.batch_alter_table('ot_record', schema=None) as batch_op:
        batch_op.add_column(sa.Column('date', sa.DATE(), autoincrement=False, nullable=True))
        batch_op.drop_column('shift_datetime')

    op.create_table('ot_record_time_slot_assoc',
    sa.Column('record_id', sa.INTEGER(), autoincrement=False, nullable=True),
    sa.Column('compensation_rate_time_slot_id', sa.INTEGER(), autoincrement=False, nullable=True),
    sa.ForeignKeyConstraint(['compensation_rate_time_slot_id'], ['ot_compensation_rate_time_slots.id'], name='ot_record_time_slot_assoc_compensation_rate_time_slot_id_fkey'),
    sa.ForeignKeyConstraint(['record_id'], ['ot_record.id'], name='ot_record_time_slot_assoc_record_id_fkey')
    )
    # ### end Alembic commands ###
